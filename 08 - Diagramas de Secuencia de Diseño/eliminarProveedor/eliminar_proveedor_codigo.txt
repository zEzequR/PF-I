@startuml
actor Administrador
participant NegocioControlador as Controlador
participant Drogueria
participant Medicamento

== Inicio ==
Administrador -> Controlador : eliminarProveedor(nombreProveedor)

== Verificar existencia ==
Controlador -> Drogueria : buscarProveedor(nombreProveedor)

alt Proveedor no existe
    Drogueria --> Controlador : proveedorNoEncontrado
    Controlador --> Administrador : notificarError("Proveedor no encontrado")
    return
end

== Verificar asociación con medicamentos ==
Controlador -> Medicamento : tieneMedicamentosAsociados(nombreProveedor)

alt Tiene medicamentos asociados
    Medicamento --> Controlador : proveedorConProductos
    Controlador --> Administrador : notificarError("No se puede eliminar: tiene productos asociados")
    return
end

== Eliminar proveedor ==
Controlador -> Drogueria : eliminar()

alt Error al eliminar proveedor
    Drogueria --> Controlador : errorEliminacion
    Controlador --> Administrador : notificarError("Error al eliminar proveedor")
    return
end

== Confirmación ==
Drogueria --> Controlador : proveedorEliminado
Controlador --> Administrador : confirmar("Proveedor eliminado con éxito")

@enduml
