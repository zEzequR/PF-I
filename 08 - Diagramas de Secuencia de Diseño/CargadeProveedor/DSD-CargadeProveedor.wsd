@startuml
title DSD - Carga de Proveedores

actor Administrador
control ControladorNegocio
entity Proveedor
entity Sistema

== Inicio ==

Administrador -> ControladorNegocio: accederModuloProveedores()

Administrador -> ControladorNegocio: ingresarDatosProveedor(nombre, email, telefono, formatoEnvio)

ControladorNegocio -> Sistema: validarDatos(nombre, email, telefono, formatoEnvio)
activate Sistema
Sistema --> ControladorNegocio: datos
deactivate Sistema

alt Datos faltantes o formato inv치lido
    ControladorNegocio -> Administrador: mensaje("Datos inv치lidos. Corregir.")

else Datos correctos

    ControladorNegocio -> Sistema: verificarDuplicado(email, telefono)
    activate Sistema
    Sistema --> ControladorNegocio: existe
    deactivate Sistema

    alt Proveedor ya registrado
        ControladorNegocio -> Administrador: mensaje("Proveedor ya registrado")

    else Proveedor nuevo

        ControladorNegocio -> Proveedor: crearProveedor(nombre, email, telefono, formatoEnvio)
        activate Proveedor
        Proveedor --> ControladorNegocio: proveedor
        deactivate Proveedor

        ControladorNegocio -> Sistema: guardarProveedor(proveedor)
        activate Sistema
        Sistema --> ControladorNegocio: resultado
        deactivate Sistema

        alt Error de conexi칩n
            ControladorNegocio -> Administrador: mensaje("Error al agregar al proveedor. Intente nuevamente m치s tarde")
        else Registro exitoso
            ControladorNegocio -> Administrador: mensaje("Proveedor registrado correctamente")
        end
    end
end

@enduml